{"ast":null,"code":"import _classCallCheck from \"F:\\\\Scripts\\\\my-office-master\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"F:\\\\Scripts\\\\my-office-master\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"F:\\\\Scripts\\\\my-office-master\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"F:\\\\Scripts\\\\my-office-master\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"F:\\\\Scripts\\\\my-office-master\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"F:\\\\Scripts\\\\my-office-master\\\\frontend\\\\src\\\\main\\\\authOrApp.jsx\";\nimport '../common/template/dependencies';\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport Auth from '../auth/auth';\nimport { validateToken } from '../auth/authActions';\nimport Dashboard from '../dashboard/dashboard';\nimport Room from '../room/room';\nimport Employee from '../employee/employee';\nimport Desk from '../desk/desk';\nimport Timeline from '../timeline/timeline';\nimport Equipment from '../equipment/equipment';\nimport { Route } from 'react-router-dom';\n\nvar AuthOrApp =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AuthOrApp, _Component);\n\n  function AuthOrApp() {\n    _classCallCheck(this, AuthOrApp);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(AuthOrApp).apply(this, arguments));\n  }\n\n  _createClass(AuthOrApp, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      if (this.props.auth.user) {\n        this.props.validateToken(this.props.auth.user.token);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props$auth = this.props.auth,\n          user = _this$props$auth.user,\n          validToken = _this$props$auth.validToken;\n\n      if (user && validToken) {\n        axios.defaults.headers.common['authorization'] = user.token;\n        return [React.createElement(Route, {\n          exact: true,\n          key: \"route_dashboard\",\n          path: \"/\",\n          component: Dashboard,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 29\n          },\n          __self: this\n        }), React.createElement(Route, {\n          key: \"route_rooms\",\n          path: \"/rooms\",\n          component: Room,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 30\n          },\n          __self: this\n        }), React.createElement(Route, {\n          key: \"route_employees\",\n          path: \"/employees\",\n          component: Employee,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 31\n          },\n          __self: this\n        }), React.createElement(Route, {\n          key: \"route_equipments\",\n          path: \"/equipments\",\n          component: Equipment,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 32\n          },\n          __self: this\n        }), React.createElement(Route, {\n          key: \"route_desks\",\n          path: \"/desks\",\n          component: Desk,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 33\n          },\n          __self: this\n        }), React.createElement(Route, {\n          key: \"route_timeline\",\n          path: \"/timeline\",\n          component: Timeline,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 34\n          },\n          __self: this\n        })];\n      } else if (!user && !validToken) {\n        return React.createElement(Route, {\n          key: \"route_auth\",\n          path: \"/\",\n          component: Auth,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 36\n          },\n          __self: this\n        });\n      } else {\n        return false;\n      }\n    }\n  }]);\n\n  return AuthOrApp;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    auth: state.auth\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    validateToken: validateToken\n  }, dispatch);\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AuthOrApp);","map":{"version":3,"sources":["F:\\Scripts\\my-office-master\\frontend\\src\\main\\authOrApp.jsx"],"names":["React","Component","axios","connect","bindActionCreators","Auth","validateToken","Dashboard","Room","Employee","Desk","Timeline","Equipment","Route","AuthOrApp","props","auth","user","token","validToken","defaults","headers","common","mapStateToProps","state","mapDispatchToProps","dispatch"],"mappings":";;;;;;AAAA,OAAO,iCAAP;AACA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,kBAAT,QAAmC,OAAnC;AAEA,OAAOC,IAAP,MAAiB,cAAjB;AACA,SAASC,aAAT,QAA8B,qBAA9B;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAOC,IAAP,MAAiB,cAAjB;AACA,OAAOC,QAAP,MAAqB,sBAArB;AACA,OAAOC,IAAP,MAAiB,cAAjB;AACA,OAAOC,QAAP,MAAqB,sBAArB;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AAEA,SAASC,KAAT,QAAsB,kBAAtB;;IAEMC,S;;;;;;;;;;;;;yCACmB;AACjB,UAAI,KAAKC,KAAL,CAAWC,IAAX,CAAgBC,IAApB,EAA0B;AACtB,aAAKF,KAAL,CAAWT,aAAX,CAAyB,KAAKS,KAAL,CAAWC,IAAX,CAAgBC,IAAhB,CAAqBC,KAA9C;AACH;AACJ;;;6BAEQ;AAAA,6BACwB,KAAKH,KAAL,CAAWC,IADnC;AAAA,UACGC,IADH,oBACGA,IADH;AAAA,UACSE,UADT,oBACSA,UADT;;AAEL,UAAIF,IAAI,IAAIE,UAAZ,EAAwB;AACpBjB,QAAAA,KAAK,CAACkB,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAAiDL,IAAI,CAACC,KAAtD;AACA,eAAO,CAAC,oBAAC,KAAD;AAAO,UAAA,KAAK,MAAZ;AAAa,UAAA,GAAG,EAAC,iBAAjB;AAAmC,UAAA,IAAI,EAAC,GAAxC;AAA4C,UAAA,SAAS,EAAEX,SAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAD,EACP,oBAAC,KAAD;AAAO,UAAA,GAAG,EAAC,aAAX;AAAyB,UAAA,IAAI,EAAC,QAA9B;AAAuC,UAAA,SAAS,EAAEC,IAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADO,EAEP,oBAAC,KAAD;AAAO,UAAA,GAAG,EAAC,iBAAX;AAA6B,UAAA,IAAI,EAAC,YAAlC;AAA+C,UAAA,SAAS,EAAEC,QAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFO,EAGP,oBAAC,KAAD;AAAO,UAAA,GAAG,EAAC,kBAAX;AAA8B,UAAA,IAAI,EAAC,aAAnC;AAAiD,UAAA,SAAS,EAAEG,SAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAHO,EAIP,oBAAC,KAAD;AAAO,UAAA,GAAG,EAAC,aAAX;AAAyB,UAAA,IAAI,EAAC,QAA9B;AAAuC,UAAA,SAAS,EAAEF,IAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAJO,EAKP,oBAAC,KAAD;AAAO,UAAA,GAAG,EAAC,gBAAX;AAA4B,UAAA,IAAI,EAAC,WAAjC;AAA6C,UAAA,SAAS,EAAEC,QAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UALO,CAAP;AAMH,OARD,MAQO,IAAI,CAACM,IAAD,IAAS,CAACE,UAAd,EAA0B;AAC7B,eAAO,oBAAC,KAAD;AAAO,UAAA,GAAG,EAAC,YAAX;AAAwB,UAAA,IAAI,EAAC,GAA7B;AAAiC,UAAA,SAAS,EAAEd,IAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACH,OAFM,MAEA;AACH,eAAO,KAAP;AACH;AACJ;;;;EAtBmBJ,S;;AAyBxB,IAAMsB,eAAe,GAAG,SAAlBA,eAAkB,CAAAC,KAAK;AAAA,SAAK;AAAER,IAAAA,IAAI,EAAEQ,KAAK,CAACR;AAAd,GAAL;AAAA,CAA7B;;AACA,IAAMS,kBAAkB,GAAG,SAArBA,kBAAqB,CAAAC,QAAQ;AAAA,SAAItB,kBAAkB,CAAC;AAAEE,IAAAA,aAAa,EAAbA;AAAF,GAAD,EAAoBoB,QAApB,CAAtB;AAAA,CAAnC;;AACA,eAAevB,OAAO,CAACoB,eAAD,EAAkBE,kBAAlB,CAAP,CAA6CX,SAA7C,CAAf","sourcesContent":["import '../common/template/dependencies'\nimport React, { Component } from 'react'\nimport axios from 'axios'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\n\nimport Auth from '../auth/auth'\nimport { validateToken } from '../auth/authActions'\nimport Dashboard from '../dashboard/dashboard'\nimport Room from '../room/room'\nimport Employee from '../employee/employee'\nimport Desk from '../desk/desk'\nimport Timeline from '../timeline/timeline'\nimport Equipment from '../equipment/equipment'\n\nimport { Route } from 'react-router-dom'\n\nclass AuthOrApp extends Component {\n    componentWillMount() {\n        if (this.props.auth.user) {\n            this.props.validateToken(this.props.auth.user.token)\n        }\n    }\n\n    render() {\n        const { user, validToken } = this.props.auth\n        if (user && validToken) {\n            axios.defaults.headers.common['authorization'] = user.token\n            return [<Route exact key='route_dashboard' path='/' component={Dashboard}/>,\n            <Route key='route_rooms' path='/rooms' component={Room} />,\n            <Route key='route_employees' path='/employees' component={Employee} />,\n            <Route key='route_equipments' path='/equipments' component={Equipment} />,\n            <Route key='route_desks' path='/desks' component={Desk} />,\n            <Route key='route_timeline' path='/timeline' component={Timeline} />]\n        } else if (!user && !validToken) {\n            return <Route key='route_auth' path='/' component={Auth}/>\n        } else {\n            return false\n        }\n    }\n}\n\nconst mapStateToProps = state => ({ auth: state.auth })\nconst mapDispatchToProps = dispatch => bindActionCreators({ validateToken }, dispatch)\nexport default connect(mapStateToProps, mapDispatchToProps)(AuthOrApp)"]},"metadata":{},"sourceType":"module"}