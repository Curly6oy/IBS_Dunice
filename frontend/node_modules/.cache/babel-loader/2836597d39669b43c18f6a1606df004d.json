{"ast":null,"code":"import _objectSpread from \"F:\\\\Scripts\\\\my-office-master\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nvar userKey = '_myemployee_user';\nvar INITIAL_STATE = {\n  user: JSON.parse(localStorage.getItem(userKey)),\n  validToken: false\n};\nexport default (function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : INITIAL_STATE;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case 'TOKEN_VALIDATED':\n      if (action.payload) {\n        return _objectSpread({}, state, {\n          validToken: true\n        });\n      } else {\n        localStorage.removeItem(userKey);\n        return _objectSpread({}, state, {\n          validToken: false,\n          user: null\n        });\n      }\n\n    case 'USER_FETCHED':\n      localStorage.setItem(userKey, JSON.stringify(action.payload));\n      return _objectSpread({}, state, {\n        user: action.payload,\n        validToken: true\n      });\n\n    default:\n      return state;\n  }\n});","map":{"version":3,"sources":["F:\\Scripts\\my-office-master\\frontend\\src\\auth\\authReducer.js"],"names":["userKey","INITIAL_STATE","user","JSON","parse","localStorage","getItem","validToken","state","action","type","payload","removeItem","setItem","stringify"],"mappings":";AAAA,IAAMA,OAAO,GAAG,kBAAhB;AACA,IAAMC,aAAa,GAAG;AAClBC,EAAAA,IAAI,EAAEC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqBN,OAArB,CAAX,CADY;AAElBO,EAAAA,UAAU,EAAE;AAFM,CAAtB;AAKA,gBAAe,YAAmC;AAAA,MAAlCC,KAAkC,uEAA1BP,aAA0B;AAAA,MAAXQ,MAAW;;AAC9C,UAAQA,MAAM,CAACC,IAAf;AACI,SAAK,iBAAL;AACI,UAAID,MAAM,CAACE,OAAX,EAAoB;AAChB,iCAAYH,KAAZ;AAAmBD,UAAAA,UAAU,EAAE;AAA/B;AACH,OAFD,MAEO;AACHF,QAAAA,YAAY,CAACO,UAAb,CAAwBZ,OAAxB;AACA,iCAAYQ,KAAZ;AAAmBD,UAAAA,UAAU,EAAE,KAA/B;AAAsCL,UAAAA,IAAI,EAAE;AAA5C;AACH;;AACL,SAAK,cAAL;AACIG,MAAAA,YAAY,CAACQ,OAAb,CAAqBb,OAArB,EAA8BG,IAAI,CAACW,SAAL,CAAeL,MAAM,CAACE,OAAtB,CAA9B;AACA,+BAAYH,KAAZ;AAAmBN,QAAAA,IAAI,EAAEO,MAAM,CAACE,OAAhC;AAAyCJ,QAAAA,UAAU,EAAE;AAArD;;AACJ;AACI,aAAOC,KAAP;AAZR;AAcH,CAfD","sourcesContent":["const userKey = '_myemployee_user'\nconst INITIAL_STATE = {\n    user: JSON.parse(localStorage.getItem(userKey)),\n    validToken: false\n}\n\nexport default (state = INITIAL_STATE, action) => {\n    switch (action.type) {\n        case 'TOKEN_VALIDATED':\n            if (action.payload) {\n                return { ...state, validToken: true }\n            } else {\n                localStorage.removeItem(userKey)\n                return { ...state, validToken: false, user: null }\n            }\n        case 'USER_FETCHED':\n            localStorage.setItem(userKey, JSON.stringify(action.payload))\n            return { ...state, user: action.payload, validToken: true }\n        default:\n            return state\n    }\n}\n"]},"metadata":{},"sourceType":"module"}